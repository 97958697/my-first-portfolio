# ゆるふわチュートリアル：映画レビューアプリをブラウザでさわってみよう！

このガイドでは、小学生でもわかるように、手を動かしてアプリを動かす手順をやさしくていねいに説明します。

---

## 1. ターミナル（黒い画面）を開こう

1. VS Code の左下にある「TERMINAL」をクリック  
2. もしくは、メニューから「表示」→「ターミナル」を選択

---

## 2. 仮想環境をアクティベート

Windows の場合（PowerShell）  
```powershell
.\venv\Scripts\Activate.ps1
```

macOS/Linux の場合  
```bash
source venv/bin/activate
```

画面の先頭に `(venv)` がつけばOK！

---

- もしrequirements.txtが存在しない場合は、仮想環境をアクティベートした状態で  
  ```bash
  pip freeze > requirements.txt
  ```  
  を実行してファイルを作成してから、次の手順に進んでください。
## 3. 依存パッケージをインストール

```bash
pip install -r requirements.txt
```
- もし上記でDjangoがインストールされていない（pip listで表示されない）場合は、手動で必要パッケージをインストールしてください：  
  ```bash
  pip install django pillow
  ```  
- whitenoiseが設定されている場合は、以下のコマンドでインストールしてください:  
  ```bash
  pip install whitenoise
  ```  
  インストール後、`pip list` の出力に `whitenoise` が含まれていればOKです。  
  また `requirements.txt` に追記して再現性を担保しましょう:  
  ```bash
  echo "whitenoise>=6.0.0" >> requirements.txt
  ```
  インストール後、再度 `pip list` で `Django` と `Pillow` が確認できたらOKです。

完了するまで待とう。茶色い文字が止まったらOK。
インストール完了を確認する方法：  
- "Successfully installed" が表示されない場合は、requirements.txt に記載されたすべてのパッケージが既にインストール済みであることを示します。そのまま次の手順に進んで問題ありません。
- 最後に "Successfully installed" と表示されている  
- インストール済みパッケージ一覧を確認したい場合は、以下を実行してみてください:  
  ```bash
  pip list
  ```  
  または特定のパッケージを確認するには:  
  ```bash
  pip show django
  ```  
  必要なパッケージがリストに表示されていれば、インストールは正常に完了しています。
- プロンプトが再び (venv) の状態で戻ってきている  
- エラー（赤い文字）が表示されていない  
以上を確認したら、インストールは完了です。

---

## 4. データベースを準備

最初だけ必要なコマンドだよ。

```bash
python manage.py migrate
```
(venv) が表示され、依存パッケージのインストールが完了していれば、このまま次の migrate コマンドを実行しても問題ありません。データベースに必要なテーブルが作成されるだけで、既存のソースやデータには影響を与えません。

- 「No migrations to apply」と表示された場合は、すでに最新の状態に反映されていることを示します。そのまま次のステップに進んで問題ありません。
- いろんな「OK」が出たら成功！
- 「No migrations to apply」と表示された場合も成功とみなし、そのまま次のステップに進んでください。

---

## 5. 管理ユーザーを作ろう（映画を登録するために必要）

```bash
python manage.py createsuperuser
```

- ユーザー名（好きな名前）  
- パスワード（忘れないように）  
の順で入力しよう。

---

## 6. サーバーを起動！

```bash
python manage.py runserver
```

`Starting development server at http://127.0.0.1:8000/` と出たらOK。

---

## 7. ブラウザでアプリを開く

1. お使いのブラウザ（Chrome、Edge、Safari など）を開く  
2. アドレスバーに `http://127.0.0.1:8000/` と入力してエンター  

映画一覧ページが見えたかな？

---

## 8. 映画を登録（スタッフユーザー）

1. 右上の「LOGIN」からログイン  
2. 先ほど作った管理ユーザーでログイン  
3. ナビバーに「Movie追加」リンクが出現  
4. タイトルや説明、公開日、ポスター画像を入力して「保存」  

---

## 9. レビューを書いてみよう（一般ユーザー）

1. いったんログアウト  
2. 「SIGNUP」から新しいアカウントを作成  
3. ログインし直して好きな映画の「レビューを書く」  
4. 星の評価とコメントを入力して投稿  

投稿が成功したら、一覧に自分のコメントが表示されるよ！

---

## 10. その他いじってみる

- **編集**：自分のレビューの「編集」ボタン  
- **削除**：自分のレビューの「削除」ボタン  
- **映画編集**：スタッフユーザーでログインして映画の「編集」ボタン  

---

これで映画レビューアプリをさわる準備完了！  
何かうまくいかないときは、ターミナルのメッセージをよく読んでみよう。  
楽しく遊んでね！  